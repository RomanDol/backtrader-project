<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backtrader - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Backtrader Platform</h1>
            <p class="subtitle">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</p>
        </header>

        <main>
            <div class="card">
                <h2>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h2>
                
                <form id="backtestForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="initial_cash">
                                üí∞ –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª ($)
                                <span class="hint">–°—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—É–º–º–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏</span>
                            </label>
                            <input type="number" id="initial_cash" name="initial_cash" 
                                   value="10000" min="100" step="100" required>
                        </div>

                        <div class="form-group">
                            <label for="commission">
                                üìä –ö–æ–º–∏—Å—Å–∏—è (%)
                                <span class="hint">–ö–æ–º–∏—Å—Å–∏—è –±—Ä–æ–∫–µ—Ä–∞ –∑–∞ —Å–¥–µ–ª–∫—É</span>
                            </label>
                            <input type="number" id="commission" name="commission" 
                                   value="0.1" min="0" max="5" step="0.01" required>
                        </div>

                        <div class="form-group">
                            <label for="fast_period">
                                ‚ö° –ë—ã—Å—Ç—Ä–∞—è MA (–ø–µ—Ä–∏–æ–¥)
                                <span class="hint">–ü–µ—Ä–∏–æ–¥ –±—ã—Å—Ç—Ä–æ–π —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π</span>
                            </label>
                            <input type="number" id="fast_period" name="fast_period" 
                                   value="10" min="2" max="50" required>
                        </div>

                        <div class="form-group">
                            <label for="slow_period">
                                üêå –ú–µ–¥–ª–µ–Ω–Ω–∞—è MA (–ø–µ—Ä–∏–æ–¥)
                                <span class="hint">–ü–µ—Ä–∏–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π</span>
                            </label>
                            <input type="number" id="slow_period" name="slow_period" 
                                   value="30" min="5" max="200" required>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary" id="runBtn">
                            <span class="btn-icon">‚ñ∂Ô∏è</span>
                            –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç
                        </button>
                    </div>
                </form>
            </div>

            <div id="loader" class="loader" style="display: none;">
                <div class="spinner"></div>
                <p>–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—ç–∫—Ç–µ—Å—Ç...</p>
            </div>

            <div id="results" class="results" style="display: none;">
                <div class="card">
                    <h2>üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞</h2>
                    
                    <div class="results-grid">
                        <div class="result-item highlight">
                            <div class="result-label">–§–∏–Ω–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª</div>
                            <div class="result-value" id="final_value">$0.00</div>
                        </div>

                        <div class="result-item">
                            <div class="result-label">–ü—Ä–∏–±—ã–ª—å / –£–±—ã—Ç–æ–∫</div>
                            <div class="result-value" id="profit">$0.00</div>
                        </div>

                        <div class="result-item">
                            <div class="result-label">–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</div>
                            <div class="result-value" id="profit_percent">0.00%</div>
                        </div>

                        <div class="result-item">
                            <div class="result-label">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞</div>
                            <div class="result-value" id="sharpe_ratio">0.00</div>
                        </div>

                        <div class="result-item">
                            <div class="result-label">–ú–∞–∫—Å. –ø—Ä–æ—Å–∞–¥–∫–∞</div>
                            <div class="result-value" id="max_drawdown">0.00%</div>
                        </div>

                        <div class="result-item">
                            <div class="result-label">–û–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</div>
                            <div class="result-value" id="total_return">0.00%</div>
                        </div>
                    </div>

                    <div class="trades-info">
                        <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–µ–ª–∫–∞—Ö</h3>
                        <div id="trades_info"></div>
                    </div>
                </div>
            </div>

            <div id="error" class="error" style="display: none;">
                <h3>‚ùå –û—à–∏–±–∫–∞</h3>
                <p id="error_message"></p>
            </div>
        </main>

        <footer>
            <p>Powered by Backtrader | ¬© 2024</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
